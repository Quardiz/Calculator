{"version":3,"sources":["components/calculator/index.js","components/calculator/calculator.js","index.js"],"names":["calculator","props","state","display","global_style","grid","width","buttons_style","operators_style","checkLastChar","bind","checkLastOperator","getNumber","clear","add","subtract","multiply","divide","equals","addDecimal","addCommand","checkLastMinus","num","this","length","setState","split","includes","parseFloat","toString","join","test","operator","temp","pop","calcArray","i","splice","parseMultiplication","parseAddition","arr","calcButtons","map","n","Button","variant","id","className","onClick","calcOperators","style","Badge","gridColumn","justifyContent","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0f76cadc.chunk.js","sourcesContent":["import calculator from \"./calculator\"\nexport default calculator;\n","import React, {Component} from 'react';\nimport './calculator.scss'\nimport Badge from 'react-bootstrap/Badge'\nimport { Button } from 'react-bootstrap';\n// import { connect } from \"react-redux\";\n// import { bindActionCreators } from \"redux\";\n// import * as calculatorActions from \"../../store/calculator/actions\";\nexport default class Calculator extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          display: \"0\"\n        };\n        this.global_style = {\n          display: \"grid\",\n          // gridTemplateAreas: '\"buttons buttons buttons operators display\"\\\n          //                     \"buttons buttons buttons operators\"\\\n          //                     \"buttons buttons buttons operators\"',\n          grid: \"100px auto / auto 96px\",\n          width: \"436px\"\n      \n        };\n        this.buttons_style = {\n          display: \"grid\",\n          grid: \"120px 120px 120px 120px / 120px 120px 120px\",\n          // gridTemplateColumns: \"auto 35px 35px\",\n        };\n        this.operators_style = {\n          display: \"grid\",\n          grid: \"96px 96px 96px 96px 96px / 96px\"\n          // display: \"flex\",\n          // flexDirection: \"column\",\n          // backgroundColor: \"red\",\n        }\n        this.checkLastChar = this.checkLastChar.bind(this);\n        this.checkLastOperator = this.checkLastOperator.bind(this);\n        this.getNumber = this.getNumber.bind(this);\n        this.clear = this.clear.bind(this);\n        this.add = this.add.bind(this);\n        this.subtract = this.subtract.bind(this);\n        this.multiply = this.multiply.bind(this);\n        this.divide = this.divide.bind(this);\n        this.equals = this.equals.bind(this);\n        this.addDecimal = this.addDecimal.bind(this);\n        this.addCommand = this.addCommand.bind(this);\n        this.checkLastMinus = this.checkLastMinus.bind(this);\n    }\n    getNumber(num) {\n      if(this.state.display.length < 20){\n        this.setState((state) => ({\n          display: state.display + num\n        }));\n      }\n      this.setState((state) => {\n        let split = state.display.split(\" \");\n        if(!split[split.length-1].includes(\".\")){\n          split[split.length-1] = parseFloat(split[split.length-1]).toString();\n        }\n        return {display: split.join(\" \")}\n      });\n    }\n    checkLastChar(){\n      var regex = /[0-9]$/;\n      return regex.test(this.state.display);\n    }\n    checkLastOperator(){\n      var regex = /[/+x-] $/;\n      return regex.test(this.state.display);\n    }\n    checkLastMinus(){\n      var regex = /[-]$/;\n      return regex.test(this.state.display);\n    }\n    add(){\n      this.addCommand(\" + \");\n    }\n    subtract() {\n      this.addCommand(\" - \");\n    }\n    multiply() {\n      this.addCommand(\" x \");\n    }\n    divide() {\n      this.addCommand(\" / \");\n    }\n    addCommand(operator){\n      if(this.checkLastChar()){\n        this.setState((state) => ({\n          display: state.display + operator\n        }));\n      } else if(operator[1] === \"-\" && this.state.display[this.state.display.length - 1] !== \"-\") {\n        this.setState(state => ({\n          display: state.display + \"-\"\n        }));\n      } else if(this.checkLastOperator()){\n        this.setState(\n          (state) => {\n            let temp = state.display.split(\"\");\n            temp.pop();\n            temp.pop();\n            temp.pop();\n            return {\n              display: temp.join(\"\") + operator\n            };\n          }\n        );\n      } else if(this.checkLastMinus() && this.state.display.length > 4){\n        this.setState(\n          (state) => {\n            let temp = state.display.split(\"\");\n            temp.pop();\n            temp.pop();\n            temp.pop();\n            temp.pop();\n            return {\n              display: temp.join(\"\") + operator\n            };\n          }\n        );\n      }\n    }\n    clear() {\n      this.setState((state) => ({\n        display: \"0\"\n      }));\n    }\n    parseMultiplication(calcArray) {\n      for(let i = 0; i < calcArray.length; i++){\n          switch(calcArray[i]){\n            case \"x\":   \n              calcArray.splice(i-1, 3, calcArray[i-1] * calcArray[i+1]);\n              i--;\n              break;\n            case \"/\":   \n              calcArray.splice(i-1, 3, calcArray[i-1] / calcArray[i+1]);\n              i--;\n              break;\n            default:\n                break;\n          }\n      }\n    }\n    parseAddition(calcArray){\n      for(let i = 0; i < calcArray.length; i++){\n          switch(calcArray[i]){\n            case \"+\":   \n              calcArray.splice(i-1, 3, parseFloat(calcArray[i-1]) + parseFloat(calcArray[i+1]));\n              i--;\n              break;\n            case \"-\":   \n              calcArray.splice(i-1, 3, calcArray[i-1] - calcArray[i+1]);\n              i--;\n              break;\n            default:\n                break;\n          }\n      }\n    }\n    equals() {\n      if(this.checkLastChar()) {\n        let calcArray = this.state.display.split(\" \");\n        // calcArray.shift();\n        this.parseMultiplication(calcArray);\n        this.parseAddition(calcArray);\n        this.setState({\n          display: calcArray[0].toString()\n        });\n      }\n    }\n    addDecimal(){\n      let arr = this.state.display.split(\" \");\n      if(!arr[arr.length-1].includes(\".\")){\n        this.setState(state => ({\n          display: state.display.split() + \".\"\n        }));\n      }\n    }\n    render() {\n      const numbas = [[1, \"one\"],[2, \"two\"],[3, \"three\"],[4, \"four\"],[5, \"five\"],[6, \"six\"],[7, \"seven\"],[8, \"eight\"],[9, \"nine\"]];\n      \n      const calcButtons = numbas.map(n => <Button variant=\"outline-primary\" id={n[1]} className=\"buttons rounded-0\" onClick={() => this.getNumber(n[0])}>{n[0]}</Button>);\n      const operators = [[\"Clear\", \"clear\", this.clear], [\"+\", \"add\", this.add],[\"-\", \"subtract\", this.subtract],[\"x\", \"multiply\", this.multiply],[\"/\", \"divide\", this.divide]];\n      const calcOperators = operators.map(n => <Button variant=\"outline-primary\" id={n[1]} className=\"operators rounded-0\" onClick={n[2]}>{n[0]}</Button>);\n\n      return <div style={this.global_style} className=\"component-calculator\">\n\n        <Badge id=\"display\" className=\"display border border-dark rounded-0\" variant=\"info\">{this.state.display}</Badge>\n\n        <div id=\"numbas\" style={this.buttons_style}>\n        {calcButtons}\n        <div style={{display: \"flex\", gridColumn: \"1/4\", justifyContent: \"stretch\"}}>\n          <Button style={{width: \"240px\"}} variant=\"outline-primary\" className=\"rounded-0\" id=\"zero\" onClick={() => this.getNumber(0)}>0</Button>\n          <Button style={{width: \"120px\"}} variant=\"outline-primary\" id=\"equals\" className=\"operators rounded-0\" onClick={this.equals}>=</Button>\n        </div>\n\n        </div>\n        <div id=\"operators\" className=\"operators\" style={this.operators_style}>\n          {calcOperators}\n          <Button id=\"decimal\" variant=\"outline-primary\" className=\"operators rounded-0\" onClick={this.addDecimal}>.</Button>\n        </div>\n\n      </div>;\n\n\n    }\n  }\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Calculator from './components/calculator';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <div className=\"russki\">\n    <Calculator />\n  </div>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}